<div class="dashboard-content">
  <div class="welcome-card">
    <div class="welcome-icon">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 12l2 2 4-4"/>
        <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
        <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
        <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3"/>
        <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3"/>
      </svg>
    </div>
    <h2>¡Bienvenido al Sistema!</h2>
    <p>Has iniciado sesión correctamente. Aquí puedes gestionar todos tus certificados y actividades.</p>

    <div class="user-info">
      <div class="info-item">
        <strong>Email:</strong> {{ currentUser()?.email }}
      </div>
    </div>
  </div>

  <!-- Dashboard Statistics -->
  <div class="stats-section">
    <h3>Resumen de Estadísticas</h3>

    <!-- Stats Cards -->
    <div class="stats-row">
      <!-- Primera fila -->
      <div class="stats-row-group">
        <!-- Total Usuarios -->
        <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-users"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ users().length }}</div>
            <div class="stat-label">Total de Usuarios</div>
          </div>
        </div>

        <!-- Total Certificados -->
        <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-certificate"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ certificates().length }}</div>
            <div class="stat-label">Total de Certificados</div>
          </div>
        </div>
      </div>

      <!-- Segunda fila -->
      <div class="stats-row-group">
        <!-- Certificados Activos -->
        <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ activeCertificates().length }}</div>
            <div class="stat-label">Certificados Activos</div>
          </div>
        </div>

        <!-- Este Mes -->
        <div class="stat-card">
          <div class="stat-icon">
            <i class="fas fa-calendar-alt"></i>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ thisMonthCertificates().length }}</div>
            <div class="stat-label">Este Mes</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Certificates Section -->
  <div class="recent-certificates-section">
    <h3>Certificados Recientes</h3>
    <div class="certificates-container">
      <div *ngIf="isLoading()" class="loading-state">
        <div class="loading-spinner"></div>
        <p>Cargando certificados...</p>
      </div>

      <div *ngIf="!isLoading() && recentCertificates().length === 0" class="empty-state">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14,2 14,8 20,8"/>
        </svg>
        <p>No hay certificados recientes</p>
      </div>

      <div *ngIf="!isLoading() && recentCertificates().length > 0" class="certificates-list">
        <div *ngFor="let certificate of recentCertificates()" class="certificate-item">
          <div class="certificate-info">
            <h4>{{ certificate.activity_name }}</h4>
            <p class="issued-to">Emitido para: {{ certificate.user_name }}</p>
            <p class="issue-date">{{ formatDate(certificate.fecha_emision) }}</p>
          </div>
          <div class="certificate-status">
            <span class="status-badge" [class]="'status-' + certificate.status">
              {{ certificate.status }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
